<template>
  <div class="company-details-page">
    <div class="container">
      <div>
        <div class="company-details-page__new-company-header">
          <h3>Company Details</h3>
        </div>

        <div class="company-details-page__breadcrumbs">
          <div>
            <nuxt-link to="/">Home</nuxt-link>
          </div>
          <div>
            <h6>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns:svgjs="http://svgjs.com/svgjs"
                version="1.1"
                width="10"
                height="10"
                x="0"
                y="0"
                viewBox="0 0 24 24"
                style="enable-background: new 0 0 512 512"
                xml:space="preserve"
                class=""
              >
                <g>
                  <path
                    xmlns="http://www.w3.org/2000/svg"
                    d="m6.293 22.707a1 1 0 0 1 0-1.414l9.293-9.293-9.293-9.293a1 1 0 0 1 1.414-1.414l10 10a1 1 0 0 1 0 1.414l-10 10a1 1 0 0 1 -1.414 0z"
                    fill="#707070"
                    data-original="#000000"
                    class=""
                  />
                </g>
              </svg>
            </h6>
          </div>
          <div>
            <h6 class="mb-0">Company Details</h6>
          </div>
        </div>

        <section class="company-details-page__company">
          <div class="row">
            <div class="col-md-8">
              <div class="d-flex flex-wrap image-details">
                <div>
                  <img
                    class="company-name"
                    src="@/assets/imgs/cib-icon.png"
                    alt=""
                  />
                </div>
                <div class="compony-details">
                  <h6>Company Name</h6>
                  <div class="mb-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="25"
                      height="25"
                      viewBox="0 0 13.57 15.689"
                    >
                      <g
                        id="noun-date-1076224"
                        transform="translate(-98.651 -80.081)"
                      >
                        <path
                          id="Path_9"
                          data-name="Path 9"
                          d="M174.777,81.553h-.551V80.52a.409.409,0,1,0-.816,0v1.033h-5.1V80.52a.409.409,0,1,0-.816,0v1.033h-.551a2.981,2.981,0,0,0-2.857,3.076v8.064a2.981,2.981,0,0,0,2.857,3.076H174.8a2.981,2.981,0,0,0,2.857-3.076V84.629a3,3,0,0,0-2.877-3.076Zm0,13.338h-7.836a2.13,2.13,0,0,1-2.041-2.2V86.607h11.938v6.087a2.16,2.16,0,0,1-2.061,2.2Zm2.041-9.163H164.9v-1.1a2.13,2.13,0,0,1,2.041-2.2h.551v1.033a.409.409,0,1,0,.816,0V82.432h5.1v1.033a.409.409,0,1,0,.816,0V82.432h.551a2.13,2.13,0,0,1,2.041,2.2Z"
                          transform="translate(-65.433 0)"
                          fill="#707070"
                        />
                        <path
                          id="Path_10"
                          data-name="Path 10"
                          d="M249.448,369.6h-4.992c-.162,0-.3.25-.3.556s.133.556.3.556h4.977c.162,0,.3-.25.3-.556s-.118-.556-.281-.556Z"
                          transform="translate(-141.537 -278.337)"
                          fill="#707070"
                        />
                        <path
                          id="Path_11"
                          data-name="Path 11"
                          d="M276.637,307.433h6.252a.556.556,0,1,0,0-1.111h-6.252a.556.556,0,1,0,0,1.111Z"
                          transform="translate(-174.327 -217.503)"
                          fill="#707070"
                        />
                      </g>
                    </svg>
                    Date created : 18/9/2022
                  </div>

                  <div class="mb-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="25"
                      height="25"
                      viewBox="0 0 12.454 15.222"
                    >
                      <g
                        id="noun-profile-1594258"
                        transform="translate(-130.195 -156.8)"
                      >
                        <path
                          id="Path_12"
                          data-name="Path 12"
                          d="M261.654,171.33a.692.692,0,0,1-1.384,0,4.843,4.843,0,0,0-9.687,0,.692.692,0,0,1-1.384,0,6.227,6.227,0,0,1,12.454,0Zm-6.227-6.919a3.806,3.806,0,1,1,3.806-3.806A3.806,3.806,0,0,1,255.427,164.411Zm0-1.384a2.422,2.422,0,1,0-2.422-2.422A2.422,2.422,0,0,0,255.427,163.027Z"
                          transform="translate(-119.005)"
                          fill="#707070"
                        />
                      </g>
                    </svg>
                    Created By : Mohamed Osman
                  </div>

                  <div>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink"
                      xmlns:svgjs="http://svgjs.com/svgjs"
                      version="1.1"
                      width="26"
                      height="26"
                      x="0"
                      y="0"
                      viewBox="0 0 24 24"
                      style="enable-background: new 0 0 512 512"
                      xml:space="preserve"
                      class=""
                    >
                      <g>
                        <path
                          xmlns="http://www.w3.org/2000/svg"
                          d="m16.5 4h-8a4.505 4.505 0 0 0 -4.5 4.5v8a4.505 4.505 0 0 0 4.5 4.5h8a4.505 4.505 0 0 0 4.5-4.5v-8a4.505 4.505 0 0 0 -4.5-4.5zm3.5 12.5a3.5 3.5 0 0 1 -3.5 3.5h-8a3.5 3.5 0 0 1 -3.5-3.5v-8a3.5 3.5 0 0 1 3.5-3.5h8a3.5 3.5 0 0 1 3.5 3.5zm-1-4a.5.5 0 0 1 -.5.5h-2.691l-1.862 3.724a.5.5 0 0 1 -.906-.027l-2.482-5.791-.585 1.752a.5.5 0 0 1 -.474.342h-3a.5.5 0 0 1 0-1h2.64l.886-2.658a.5.5 0 0 1 .933-.039l2.576 6.01 1.518-3.037a.5.5 0 0 1 .447-.276h3a.5.5 0 0 1 .5.5z"
                          fill="#707070"
                          data-original="#000000"
                          class=""
                        />
                      </g>
                    </svg>
                    Status:

                    <span class="followUp"> Follow - Up </span>
                    

                    <button @click="changeCompanyStatusModel = true">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        xmlns:svgjs="http://svgjs.com/svgjs"
                        version="1.1"
                        width="25"
                        height="25"
                        x="0"
                        y="0"
                        viewBox="0 0 6.3499999 6.3500002"
                        style="enable-background: new 0 0 512 512"
                        xml:space="preserve"
                        class=""
                      >
                        <g>
                          <g
                            xmlns="http://www.w3.org/2000/svg"
                            id="layer1"
                            transform="translate(0 -290.65)"
                          >
                            <path
                              id="path9559"
                              d="m1.5818147 290.91246a.26460982.26460982 0 0 0 -.1819011.0801l-1.05833327 1.05834a.26460982.26460982 0 0 0 0 .3731l1.05833327 1.05885a.2652852.2652852 0 0 0 .3751686-.37517l-.6051286-.60513h4.1227456v.81029a.26460982.26460982 0 1 0 .5270977 0v-.81029c0-.28858-.2385166-.52968-.5270977-.52968h-4.1253305l.6077135-.6072a.26460982.26460982 0 0 0 -.1932675-.4532zm3.1775824 3.17396a.26460982.26460982 0 0 0 -.1834515.45475l.6071976.60772h-4.124812v-.78703a.26460982.26460982 0 0 0 -.26768417-.26769.26460982.26460982 0 0 0 -.2614824.26769v.78703c0 .28858.2405856.5271.52916657.5271h4.124812l-.6071976.60771a.26460982.26460982 0 1 0 .3731049.37466l1.0583333-1.05834a.26460982.26460982 0 0 0 0-.37516l-1.0583333-1.05834a.26460982.26460982 0 0 0 -.1896534-.0801z"
                              font-variant-ligatures="normal"
                              font-variant-position="normal"
                              font-variant-caps="normal"
                              font-variant-numeric="normal"
                              font-variant-alternates="normal"
                              font-feature-settings="normal"
                              text-indent="0"
                              text-align="start"
                              text-decoration-line="none"
                              text-decoration-style="solid"
                              text-decoration-color="rgb(0,0,0)"
                              text-transform="none"
                              text-orientation="mixed"
                              white-space="normal"
                              shape-padding="0"
                              isolation="auto"
                              mix-blend-mode="normal"
                              solid-color="rgb(0,0,0)"
                              solid-opacity="1"
                              vector-effect="none"
                              fill="#FFCB05"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                      </svg>
                      Change
                    </button>
                  </div>
                </div>

                <div class="company-details-page__profits">
                  <h5 @click="salesTeamModel = true" class="sales-team">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink"
                      xmlns:svgjs="http://svgjs.com/svgjs"
                      version="1.1"
                      width="30"
                      height="30"
                      x="0"
                      y="0"
                      viewBox="0 0 512 512"
                      style="enable-background: new 0 0 512 512"
                      xml:space="preserve"
                      class=""
                    >
                      <g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M436,0c-24.814,0-45,20.186-45,45c0,10.065,3.439,19.272,9.044,26.776l-73.392,79.636C323.22,150.571,319.688,150,316,150    c-9.212,0-17.77,2.802-24.91,7.57l-52.335-39.24c1.328-4.239,2.245-8.659,2.245-13.33c0-24.814-20.186-45-45-45    c-24.814,0-45,20.186-45,45c0,4.671,0.917,9.091,2.245,13.33l-52.335,39.24C93.77,152.802,85.212,150,76,150    c-24.814,0-45,20.186-45,45c0,24.814,20.186,45,45,45s45-20.186,45-45c0-4.671-0.917-9.091-2.245-13.33l52.335-39.24    c7.139,4.768,15.698,7.57,24.91,7.57c9.212,0,17.77-2.802,24.91-7.57l52.335,39.24C271.917,185.909,271,190.329,271,195    c0,24.814,20.186,45,45,45c24.814,0,45-20.186,45-45c0-10.065-3.439-19.272-9.044-26.776l73.392-79.636    C428.78,89.429,432.312,90,436,90c24.814,0,45-20.186,45-45C481,20.186,460.814,0,436,0z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M226,240h-60c-8.291,0-15,6.709-15,15v197h90V255C241,246.709,234.291,240,226,240z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M346,300h-60c-8.291,0-15,6.709-15,15v137h90V315C361,306.709,354.291,300,346,300z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M466,180h-60c-8.291,0-15,6.709-15,15v257h90V195C481,186.709,474.291,180,466,180z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M106,330H46c-8.291,0-15,6.709-15,15v107h90V345C121,336.709,114.291,330,106,330z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M497,482c-66.985,0-97.729,0-109.871,0c-5.55,0-7.533,0-7.518,0c-22.103,0-104.372,0-364.611,0c-8.291,0-15,6.709-15,15    c0,8.291,6.709,15,15,15c181.52,0,312.43,0,482,0c8.291,0,15-6.709,15-15C512,488.709,505.291,482,497,482z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                      </g>
                    </svg>

                    Sales Team
                  </h5>
                  <div class="d-flex justify-content-between">
                    <div>
                      <span>Expected profit :</span>
                      <h6>{{formatCurrency(1000)}}</h6>
                    </div>
                    <div>
                      <span>Total profit :</span>
                      <h6> {{formatCurrency(1000)}} </h6>
                    </div>
                  </div>

                  <h5 @click="openExpectedProfitModel" class="expected-profit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 17.08 21.751">
                      <g id="noun-money-1806108" transform="translate(-75.769 -14.004)">
                        <path id="Path_226" data-name="Path 226" d="M153.026,19.727a26.057,26.057,0,0,1-3.366.206,26.317,26.317,0,0,1-3.366-.206c-2.45,2.084-5.174,5.564-5.174,8.723,0,4.968,3.824,7.3,8.54,7.3s8.54-2.335,8.54-7.3C158.2,25.268,155.476,21.811,153.026,19.727ZM150.3,31.4v.939a.181.181,0,0,1-.183.183H149.2a.181.181,0,0,1-.183-.183v-.916a1.908,1.908,0,0,1-1.763-1.694.2.2,0,0,1,.183-.183h.916a.174.174,0,0,1,.183.137.613.613,0,0,0,.6.481h.8a.946.946,0,0,0,.962-.8A.9.9,0,0,0,150,28.359h-.6a2.234,2.234,0,0,1-2.244-1.969,2.167,2.167,0,0,1,1.878-2.358v-.916a.2.2,0,0,1,.183-.183h.916a.181.181,0,0,1,.183.183v.916a1.908,1.908,0,0,1,1.763,1.694.181.181,0,0,1-.183.183h-.916a.192.192,0,0,1-.183-.137.639.639,0,0,0-.618-.481h-.8a.964.964,0,0,0-.962.8.91.91,0,0,0,.893,1.007H150a2.142,2.142,0,0,1,2.152,2.381A2.188,2.188,0,0,1,150.3,31.4Zm-.641-12.822a26.5,26.5,0,0,0,3.114-.183,11.99,11.99,0,0,0,1.213-3.389.975.975,0,0,0-1.855-.412c-.916,1.282-1.328-.6-2.381-.6s-1.6,1.74-2.427.572a1.078,1.078,0,0,0-2.015.412,10.085,10.085,0,0,0,1.122,3.411,28.225,28.225,0,0,0,3.228.183Z" transform="translate(-65.351)" fill="#fff"/>
                      </g>
                    </svg>
                    Expected profit
                  </h5>
                </div>
              </div>

              <div class="home-page__tabs">
                <b-tabs pills>
                  <b-tab title="Contacts List" active>
                    <div class="company-details-page__contact-list">
                      <vs-table>
                        <template #thead>
                          <vs-tr>
                            <div>
                              <vs-th style="width: 50px"> # </vs-th>

                              <vs-th style="width: 100px"> Profile </vs-th>

                              <vs-th> Name </vs-th>

                              <vs-th class="email"> E-mail </vs-th>

                              <vs-th> Phone </vs-th>

                              <vs-th style="width: 173px"> Position </vs-th>

                              <vs-th style="width: 173px"> Created At </vs-th>
                            </div>
                          </vs-tr>
                        </template>
                        <template #tbody>
                          <vs-tr
                            :key="i"
                            v-for="(tr, i) in contactLists"
                            :data="tr"
                          >
                            <div>
                              <vs-td style="width: 50px">
                                {{ i + 1 }}
                              </vs-td>
                              <vs-td style="width: 100px">
                                <img :src="tr.profile" alt="" />
                              </vs-td>
                              <vs-td>
                                {{ tr.name }}
                              </vs-td>
                              <vs-td>
                                {{ tr.email }}
                              </vs-td>
                              <vs-td>
                                {{ tr.phone }}
                              </vs-td>
                              <vs-td style="width: 173px">
                                {{ tr.position }}
                              </vs-td>
                              <vs-td style="width: 173px">
                                {{ tr.createdAt }}
                              </vs-td>
                            </div>
                          </vs-tr>
                        </template>
                      </vs-table>
                    </div>
                  </b-tab>


                  <b-tab title="Proposal">
                    <div class="company-details-page__contact-list proposal">
                      <vs-table>
                        <template #thead>
                          <vs-tr>
                            <vs-th style="width:50px">
                              #
                            </vs-th>
                            <vs-th>
                              Proposal Date
                            </vs-th>
                            <vs-th>
                              Service
                            </vs-th>
                            <vs-th>
                              Expected Profit
                            </vs-th>
                            <vs-th>
                              Status
                            </vs-th>
                            <vs-th>
                              Options
                            </vs-th>
                          </vs-tr>
                        </template>
                        <template #tbody>
                          <vs-tr
                            :key="i"
                            v-for="(tr, i) in proposal"
                            :data="tr"
                          >
                            <vs-td style="width:50px">
                              {{ i +1 }}
                            </vs-td>
                            <vs-td>
                            {{new Date( tr.proposalDate).toLocaleDateString() }}
                            </vs-td>
                            <vs-td>
                            {{ tr.service }}
                            </vs-td>
                            <vs-td>
                              {{ formatCurrency(tr.expectedProfit) }}
                            </vs-td>
                            <vs-td>

                              <span v-if="tr.status == 'pendding'" class="pendding"> Pendding </span>
                              <span v-else-if="tr.status == 'deal'" class="deal"> Deal </span>
                              <span v-else-if="tr.status == 'approach'" class="approach"> Approach </span>
                              <span v-else-if="tr.status == 'lose'" class="lose"> Lose </span>
                              <span v-else-if="tr.status == 'proposal'" class="proposal"> Proposal </span>
                              <span v-else-if="tr.status == 'meeting'" class="meeting"> Meeting </span>
                              <span v-else-if="tr.status == 'salesTeam'" class="salesTeam"> Sales Team </span>
                              <span v-else-if="tr.status == 'followUp'" class="followUp"> Follow-Up </span>
                            
                            </vs-td>
                            <vs-td>
                              <button @click="selectedProposals.splice(i, 1)" v-if="selectedProposals.find(ele=>ele.id == tr.id)">Selected Status</button>
                              <button @click="selectedProposals.push(tr)" v-else>select Status</button>
                            </vs-td>
                          </vs-tr>
                        </template>
                      </vs-table>
                    </div>
                  </b-tab>


                </b-tabs>
              </div>
            </div>

            <div class="col-md-4">
              <div class="company-details-page__activities">
                <h5 class="mb-3">Recent Activities</h5>

                <div
                  v-for="i in 5"
                  :key="i"
                  class="mb-3 company-details-page__activity"
                >
                  <div>
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="25"
                        height="25"
                        viewBox="0 0 19 18"
                      >
                        <g id="Icon" transform="translate(0.462 0.038)">
                          <rect
                            id="Area"
                            width="19"
                            height="18"
                            transform="translate(-0.462 -0.038)"
                            fill="#fcfcfc"
                            opacity="0"
                          />
                          <g
                            id="Icon-2"
                            data-name="Icon"
                            transform="translate(2.268 2.268)"
                          >
                            <path
                              id="Path"
                              d="M2.5,13.838V9.3a6.8,6.8,0,0,1,13.606,0v4.535"
                              transform="translate(-2.5 -2.5)"
                              fill="none"
                              stroke="#ffcb05"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="1.667"
                            />
                            <path
                              id="Path-2"
                              data-name="Path"
                              d="M16.106,15.446a1.512,1.512,0,0,1-1.512,1.512h-.756a1.512,1.512,0,0,1-1.512-1.512V13.178a1.512,1.512,0,0,1,1.512-1.511h2.268Zm-13.606,0a1.512,1.512,0,0,0,1.512,1.512h.756A1.512,1.512,0,0,0,6.28,15.446V13.178a1.512,1.512,0,0,0-1.512-1.511H2.5Z"
                              transform="translate(-2.5 -3.352)"
                              fill="none"
                              stroke="#ffcb05"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="1.667"
                            />
                          </g>
                        </g>
                      </svg>
                    </div>
                  </div>
                  <div>
                    <h6>Informed production features</h6>
                    <span>By You</span>
                    <span>just a min</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>





    <vs-dialog class="expected-form-model change_company_status_model" v-model="changeCompanyStatusModel">
        <div class="con-form">
            <div>
              <svg
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        xmlns:svgjs="http://svgjs.com/svgjs"
                        version="1.1"
                        width="40"
                        height="40"
                        x="0"
                        y="0"
                        viewBox="0 0 6.3499999 6.3500002"
                        style="enable-background: new 0 0 512 512"
                        xml:space="preserve"
                        class=""
                      >
                        <g>
                          <g
                            xmlns="http://www.w3.org/2000/svg"
                            id="layer1"
                            transform="translate(0 -290.65)"
                          >
                            <path
                              id="path9559"
                              d="m1.5818147 290.91246a.26460982.26460982 0 0 0 -.1819011.0801l-1.05833327 1.05834a.26460982.26460982 0 0 0 0 .3731l1.05833327 1.05885a.2652852.2652852 0 0 0 .3751686-.37517l-.6051286-.60513h4.1227456v.81029a.26460982.26460982 0 1 0 .5270977 0v-.81029c0-.28858-.2385166-.52968-.5270977-.52968h-4.1253305l.6077135-.6072a.26460982.26460982 0 0 0 -.1932675-.4532zm3.1775824 3.17396a.26460982.26460982 0 0 0 -.1834515.45475l.6071976.60772h-4.124812v-.78703a.26460982.26460982 0 0 0 -.26768417-.26769.26460982.26460982 0 0 0 -.2614824.26769v.78703c0 .28858.2405856.5271.52916657.5271h4.124812l-.6071976.60771a.26460982.26460982 0 1 0 .3731049.37466l1.0583333-1.05834a.26460982.26460982 0 0 0 0-.37516l-1.0583333-1.05834a.26460982.26460982 0 0 0 -.1896534-.0801z"
                              font-variant-ligatures="normal"
                              font-variant-position="normal"
                              font-variant-caps="normal"
                              font-variant-numeric="normal"
                              font-variant-alternates="normal"
                              font-feature-settings="normal"
                              text-indent="0"
                              text-align="start"
                              text-decoration-line="none"
                              text-decoration-style="solid"
                              text-decoration-color="rgb(0,0,0)"
                              text-transform="none"
                              text-orientation="mixed"
                              white-space="normal"
                              shape-padding="0"
                              isolation="auto"
                              mix-blend-mode="normal"
                              solid-color="rgb(0,0,0)"
                              solid-opacity="1"
                              vector-effect="none"
                              fill="#FFCB05"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                      </svg>
            </div>
            <h4 class="m-2">Change Company Status</h4>
            <p>
              Select Company Status :
            </p>

            <div class="company-logo">
                  <img
                    class="company-name"
                    src="@/assets/imgs/cib-icon.png"
                    alt=""
                />
            </div>
            <span class="d-block text-center mt-3"> Company Name </span>

            <el-form :model="changeCompanyForm" ref="expectedProfitForm" >
              <h6>Company Status </h6>
              <el-form-item
                prop="status"
                :rules="[
                  { required: true, message: 'status is required'},
                ]"
              >
                <el-select v-model="changeCompanyForm.status" placeholder="Select Company Status">
                  <el-option
                    v-for="item in companyStatus"
                    :key="item.value"
                    :label="item.label"
                    :value="item.value">
                  </el-option>
                </el-select>
              </el-form-item>
              <el-form-item>
                <el-button class="primary-btn" @click="submitForm('numberValidateForm')">Submit</el-button>
                <el-button @click="expectedProfitModel = false" class="close-btn">Reset</el-button>
              </el-form-item>
            </el-form>
        </div>
      </vs-dialog>




    <vs-dialog class="expected-form-model" v-model="expectedProfitModel">
        <div class="con-form">
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 17.08 21.751">
                      <g id="noun-money-1806108" transform="translate(-75.769 -14.004)">
                        <path id="Path_226" data-name="Path 226" d="M153.026,19.727a26.057,26.057,0,0,1-3.366.206,26.317,26.317,0,0,1-3.366-.206c-2.45,2.084-5.174,5.564-5.174,8.723,0,4.968,3.824,7.3,8.54,7.3s8.54-2.335,8.54-7.3C158.2,25.268,155.476,21.811,153.026,19.727ZM150.3,31.4v.939a.181.181,0,0,1-.183.183H149.2a.181.181,0,0,1-.183-.183v-.916a1.908,1.908,0,0,1-1.763-1.694.2.2,0,0,1,.183-.183h.916a.174.174,0,0,1,.183.137.613.613,0,0,0,.6.481h.8a.946.946,0,0,0,.962-.8A.9.9,0,0,0,150,28.359h-.6a2.234,2.234,0,0,1-2.244-1.969,2.167,2.167,0,0,1,1.878-2.358v-.916a.2.2,0,0,1,.183-.183h.916a.181.181,0,0,1,.183.183v.916a1.908,1.908,0,0,1,1.763,1.694.181.181,0,0,1-.183.183h-.916a.192.192,0,0,1-.183-.137.639.639,0,0,0-.618-.481h-.8a.964.964,0,0,0-.962.8.91.91,0,0,0,.893,1.007H150a2.142,2.142,0,0,1,2.152,2.381A2.188,2.188,0,0,1,150.3,31.4Zm-.641-12.822a26.5,26.5,0,0,0,3.114-.183,11.99,11.99,0,0,0,1.213-3.389.975.975,0,0,0-1.855-.412c-.916,1.282-1.328-.6-2.381-.6s-1.6,1.74-2.427.572a1.078,1.078,0,0,0-2.015.412,10.085,10.085,0,0,0,1.122,3.411,28.225,28.225,0,0,0,3.228.183Z" transform="translate(-65.351)" fill="#333"/>
                      </g>
                </svg>
            </div>
            <h4>Expected profit</h4>
            <p>
              Write the expected Profit to be achieved
              with this company
            </p>

            <el-form :model="expectedProfitForm" ref="expectedProfitForm" >
              <h6>Profit</h6>
              <el-form-item
                prop="profit"
                :rules="[
                  { required: true, message: 'profit is required'},
                ]"
              >
                <el-input type="age" v-model.number="expectedProfitForm.profit" ></el-input>
              </el-form-item>
              <el-form-item>
                <el-button class="primary-btn" @click="submitForm('numberValidateForm')">Submit</el-button>
                <el-button @click="expectedProfitModel = false" class="close-btn">Reset</el-button>
              </el-form-item>
            </el-form>
        </div>
      </vs-dialog>





      <vs-dialog class="expected-form-model" v-model="salesTeamModel">
        <div class="con-form">
            <div>
              <svg
                      xmlns="http://www.w3.org/2000/svg"
                      xmlns:xlink="http://www.w3.org/1999/xlink"
                      xmlns:svgjs="http://svgjs.com/svgjs"
                      version="1.1"
                      width="40"
                      height="40"
                      x="0"
                      y="0"
                      viewBox="0 0 512 512"
                      style="enable-background: new 0 0 512 512"
                      xml:space="preserve"
                      class=""
                    >
                      <g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M436,0c-24.814,0-45,20.186-45,45c0,10.065,3.439,19.272,9.044,26.776l-73.392,79.636C323.22,150.571,319.688,150,316,150    c-9.212,0-17.77,2.802-24.91,7.57l-52.335-39.24c1.328-4.239,2.245-8.659,2.245-13.33c0-24.814-20.186-45-45-45    c-24.814,0-45,20.186-45,45c0,4.671,0.917,9.091,2.245,13.33l-52.335,39.24C93.77,152.802,85.212,150,76,150    c-24.814,0-45,20.186-45,45c0,24.814,20.186,45,45,45s45-20.186,45-45c0-4.671-0.917-9.091-2.245-13.33l52.335-39.24    c7.139,4.768,15.698,7.57,24.91,7.57c9.212,0,17.77-2.802,24.91-7.57l52.335,39.24C271.917,185.909,271,190.329,271,195    c0,24.814,20.186,45,45,45c24.814,0,45-20.186,45-45c0-10.065-3.439-19.272-9.044-26.776l73.392-79.636    C428.78,89.429,432.312,90,436,90c24.814,0,45-20.186,45-45C481,20.186,460.814,0,436,0z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M226,240h-60c-8.291,0-15,6.709-15,15v197h90V255C241,246.709,234.291,240,226,240z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M346,300h-60c-8.291,0-15,6.709-15,15v137h90V315C361,306.709,354.291,300,346,300z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M466,180h-60c-8.291,0-15,6.709-15,15v257h90V195C481,186.709,474.291,180,466,180z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M106,330H46c-8.291,0-15,6.709-15,15v107h90V345C121,336.709,114.291,330,106,330z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg">
                          <g>
                            <path
                              d="M497,482c-66.985,0-97.729,0-109.871,0c-5.55,0-7.533,0-7.518,0c-22.103,0-104.372,0-364.611,0c-8.291,0-15,6.709-15,15    c0,8.291,6.709,15,15,15c181.52,0,312.43,0,482,0c8.291,0,15-6.709,15-15C512,488.709,505.291,482,497,482z"
                              fill="#EA0552"
                              data-original="#000000"
                              class=""
                            />
                          </g>
                        </g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                        <g xmlns="http://www.w3.org/2000/svg"></g>
                      </g>
                    </svg>
            </div>
            <h4>Sales Team</h4>
            <p>
              Are you sure to assign this company to the sales team ?
            </p>

        </div>

        <template #footer>
          <div class="footer-dialog">
            <el-button class="primary-btn sales-team">
              Yes , Sure
            </el-button>

            <el-button class="close-btn sales-team">
              Close
            </el-button>

          </div>
        </template>

      </vs-dialog>


  </div>
</template>

<script>
export default {
  methods:{
    openExpectedProfitModel(){
      this.expectedProfitModel = true;
    },
    formatCurrency(value){
      if(!value){return;}
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        maximumFractionDigits: 3 ,
        currency: 'USD'}).format(value);
        
      },
    submitForm(formName){
      this.$refs[formName].validate((valid) => {
        if(valid){
          // do something
        }
      })
    }
  },
  data() {
    return {
      changeCompanyForm: {},
      changeCompanyStatusModel: false,
      companyStatus:[
        {label: "Approach", value: "approach"},
        {label: "Follow-Up", value: "followUp"},
        {label: "Sales Team", value: "salesTeam"},
        {label: "Meeting", value: "meeting"},
        {label: "Proposal", value: "proposal"},
        {label: "Deal", value: "deal"},
        {label: "Lose", value: "lose"},
      ],

      expectedProfitForm: {},
      salesTeamModel: false,
      expectedProfitModel: false,
      selectedProposals: [],
      proposal: [
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'pendding',
          id: 1,
        },
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'deal',
          id: 2,

        },
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'lose',
          id: 4,

        },
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'meeting',
          id: 5,

        },
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'salesTeam',
          id: 6,

        },
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'followUp',
          id: 7,

        },
        {
          proposalDate: new Date(),
          expectedProfit: 10000,
          service: 'Service Title',
          status: 'approach',
          id: 8,

        }
      ],
      contactLists: [
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
        {
          name: "zeyad moamen",
          phone: "01256215522",
          position: "front end developer",
          email: "zeyadmoamen@gmail.com",
          createdAt: "mohamed osama",
          profile:
            "https://scontent.fcai19-3.fna.fbcdn.net/v/t39.30808-6/263488912_923248988316536_5091183489252311688_n.jpg?_nc_cat=103&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=XZ0z0MvbNlwAX8I5qvW&_nc_ht=scontent.fcai19-3.fna&oh=7d000b1171bb5a69cf4960d5d69877f1&oe=61B4EA87",
        },
      ],
    };
  },
};
</script>

<style lang="scss">

.pendding{
    font-size: 14px;
    color: var(--bs-secondary);
    font-weight: 500;
    font-family: sans-serif;
}

.followUp{
    font-size: 14px;
    color: #4c92f9;
    font-weight: 500;
    font-family: sans-serif;
}

.deal{
    font-size: 15px;
    color: var(--bs-green);
    font-weight: 500;
    font-family: sans-serif;
}

.lose{
    font-size: 15px;
    color: var(--bs-danger);
    font-weight: 500;
    font-family: sans-serif;
}


.approach{
    font-size: 15px;
    color: var(--bs-warning);
    font-weight: 500;
    font-family: sans-serif;
}

.salesTeam{
    font-size: 15px;
    color: var(--bs-pink);
    font-weight: 500;
    font-family: sans-serif;
}

.meeting{
    font-size: 15px;
    color: var(--bs-indigo);
    font-weight: 500;
    font-family: sans-serif;
}





.change_company_status_model{
  .el-select{
    width: 100%;
  }
  .el-form{
    margin-top: 20px !important
  }

  .company-logo{
    width: 132px;
    height: 117px;
    box-shadow: 0 4px 25px 0 rgba(0,0,0,0.05882);
    -o-object-fit: contain;
    object-fit: contain;
    padding: 24px;
    border-radius: 15px;
    display: flex;
    margin-top: 15px;
    margin: auto;
    img{
      align-self: center;
    }
  }
}
.expected-form-model{
  .con-form{
    >div{
      text-align: center;
      margin-top: 35px;
    }
  }
  h4{
    text-align: center;
    margin: 15px 0;
  }
  p{
    width: 300px;
    text-align: center;
    margin: auto;

  }
  .primary-btn{
    border-radius: 7px;
    color: #fff;
    padding: 15px 20px;
    border: none;
    margin: auto;
    display: block;
    min-width: 250px;
    font-size: 16px;
    background: var(--primary);

    &.sales-team{
      background: #EA0552;
      margin-top: 25px;
    }
  }
  .el-form{
    width: 250px;
    margin: auto;
    margin-top: 35px;
  }
  .close-btn{
        background: none;
    border: none;
    margin: auto;
    display: block;
    margin-top: 6px;
    margin-bottom: -33px;

     &.sales-team{
      margin-bottom: 15px !important;
    }
  }
  
}

.company-details-page {
  &__breadcrumbs {
    padding-top: 20px;
    display: flex;
    gap: 5px;
    h6,
    a {
      font-weight: 400;
      color: #707070;
    }
  }
  &__title {
    h6 {
      color: #ffcb05;
    }
  }
  &__company {
    .image-details {
      gap: 25px;
      margin-top: 20px;
    }
    > div {
      img.company-name {
        width: 137px;
        height: 137px;
        box-shadow: 0 4px 25px 0 #0000000f;
        -o-object-fit: contain;
        object-fit: contain;
        padding: 24px;
        border-radius: 15px;
      }
      h6 {
        font-family: sans-serif;
        font-weight: 600;
        padding-top: 5px;
        font-size: 20px;
      }
      svg {
        background: #efefef;
        padding: 4px;
        border-radius: 6px;
      }
      div {
        span.followUp {
          display: inline-block;
          color: #4c92f9;
          font-weight: 600;
          font-family: sans-serif;
          margin: 0 5px;
        }
        button {
          background: none;
          padding: 3px 9px;
          border: 1px solid #ffcb05;
          border-radius: 8px;
          color: #ffcb05;
          svg {
            background: none;
          }
        }
      }
    }
  }

  &__activities {
    padding: 15px;
    box-shadow: 0 4px 25px 0 #0000000f;
  }
  &__activity {
    display: flex;
    gap: 15px;
    > div {
      &:first-of-type {
        // align-self: center;
        div {
          padding: 12px;
          box-shadow: 0 0px 10px 0 #00000012;
          border-radius: 50%;
          z-index: 2;
          position: relative;
          background: #fff;
        }
      }
    }

    &:not(:last-of-type) {
      > div {
        &:first-of-type {
          position: relative;

          &::after {
            position: absolute;
            left: 23px;
            content: "";
            width: 1px;
            height: 80%;
            background: rgba(154, 154, 167, 0.43137);
            border-radius: 50%;
            bottom: -30px;
            z-index: -1;
          }
        }
      }
    }

    h6 {
      font-weight: normal !important;
      margin-bottom: 0;
      font-size: 15px !important;
      color: var(--bs-primary);
    }
    svg {
      background: none !important;
      padding: 0 !important;
    }
    span {
      &:first-of-type {
        display: block;
        font-size: 18px;
        color: #322e2e;
        margin-bottom: 0;
      }
      &:last-of-type {
        color: #9a9a9a;
        font-size: 16px;
        position: relative;
        top: -4px;
        left: 13px;

        &::after {
          position: absolute;
          left: -10px;
          content: "";
          width: 5px;
          height: 5px;
          background: #9a9aa7;
          top: 10px;
          border-radius: 50%;
        }
      }
    }
  }

  .compony-details {
    flex: 1;
    flex-basis: 221px;
    flex-shrink: 0;
  }

  &__profits {
    .sales-team {
      cursor: pointer;

      background: #fdecf2;
      color: #ea0552;
      padding: 11px;
      text-align: center;
      border-radius: 6px;
        font-size: 15px;
      svg {
        background: none !important;
        path {
          fill: #ea0552;
        }
      }
    }
    .expected-profit{
      cursor: pointer;
      background: #3D3D3D;
      color: #fff;
      padding: 11px;
      text-align: center;
      border-radius: 6px;
      font-size: 15px;
      svg {
        background: none !important;
        path {
          fill: #fff;
        }
      }
    }
    > div {
      gap: 15px;
    }
  }

  .home-page__tabs{

    margin-top: 25px;
  }

  .proposal{
   .vs-table .vs-table__tr div{
      margin-bottom: 10px;
      margin-top: 20px;
    }
  }

  &__contact-list {
    .vs-table {
      margin-bottom: 30px;
      .vs-table__th {
        background: none;
        width: 134px;
        padding: 0;
        div {
          margin: auto;
          text-align: center;
          display: block;
        }
      }
      .vs-table__td {
        color: #707070;
        width: 134px;
        text-align: center;
      }
      .vs-table__tr {
        &:not(:first-of-type) {
          div {
            box-shadow: 0 -3px 25px 0 #00000005;
          }
        }
        div {
          margin: 10px;
          margin-bottom: 0;
        }
      }

      .vs-table__th__content {
        font-family: "segoe";
        font-weight: 500;
      }

      .email {
        width: 153px !important;
        .vs-table__th__content {
          width: 151px !important;
        }
      }

      img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 1px solid #ddd;
        padding: 2px;
      }
    }
  }
}
</style>